(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const L=`
precision highp float;
uniform vec2 u_resolution;
attribute vec2 a_position;
attribute vec4 a_color;
varying vec4 v_color;
void main() {
    vec2 zeroToOne = a_position / u_resolution;
    vec2 clipSpace = (zeroToOne * 2.0 - 1.0);
    v_color = a_color;
    gl_Position = vec4(clipSpace * vec2(1.0, -1.0), 0.0, 1.0);
    gl_PointSize = 3.5;
}
`,X=`
precision highp float;
varying vec4 v_color;
void main() {
    if (v_color.a < 0.01) discard;
    vec2 coord = gl_PointCoord - vec2(0.5);
    float dist = length(coord);
    float alpha = 1.0 - smoothstep(0.0, 0.5, dist);
    gl_FragColor = vec4(v_color.rgb, v_color.a * alpha);
}
`,c={logoPath:"/logo.png",logoSize:1250,logoColor:"#404040",canvasBg:"#141414",distortionRadius:3e3,forceStrength:.0035,maxDisplacement:100,returnForce:.025};let l,e,p,u=[],d,x,b,w,F={x:0,y:0},Y=0;function E(){l=document.getElementById("canvas");const r=window.devicePixelRatio||1;l.width=window.innerWidth*r,l.height=window.innerHeight*r,l.style.width=window.innerWidth+"px",l.style.height=window.innerHeight+"px"}function z(){e=l.getContext("webgl",{alpha:!0,depth:!1,stencil:!1,antialias:!0,powerPreference:"high-performance",premultipliedAlpha:!1}),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)}function C(){const r=B(e.VERTEX_SHADER,L),o=B(e.FRAGMENT_SHADER,X);p=e.createProgram(),e.attachShader(p,r),e.attachShader(p,o),e.linkProgram(p)}function B(r,o){const t=e.createShader(r);return e.shaderSource(t,o),e.compileShader(t),t}function D(){const r=new Image;r.onload=function(){const o=document.createElement("canvas"),t=o.getContext("2d");o.width=c.logoSize,o.height=c.logoSize;const n=c.logoSize*.9,i=(c.logoSize-n)/2;t.drawImage(r,i,i,n,n);const s=t.getImageData(0,0,c.logoSize,c.logoSize);I(s.data)},r.src=c.logoPath}function I(r){const o=l.width/2,t=l.height/2,a=[],n=[];function i(f){const g=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);return g?{r:parseInt(g[1],16)/255,g:parseInt(g[2],16)/255,b:parseInt(g[3],16)/255}:{r:1,g:1,b:1}}const s=i(c.logoColor);for(let f=0;f<c.logoSize;f++)for(let g=0;g<c.logoSize;g++){const h=(f*c.logoSize+g)*4;if(r[h+3]>10){const v=o+(g-c.logoSize/2)*1,A=t+(f-c.logoSize/2)*1;a.push(v,A);const R=r[h]/255,m=r[h+1]/255,S=r[h+2]/255,y=r[h+3]/255;n.push(R*s.r,m*s.g,S*s.b,y),u.push({originalX:v,originalY:A,velocityX:0,velocityY:0})}}d=new Float32Array(a),x=new Float32Array(n),O(),P()}function O(){b=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,b),e.bufferData(e.ARRAY_BUFFER,d,e.DYNAMIC_DRAW),w=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,w),e.bufferData(e.ARRAY_BUFFER,x,e.STATIC_DRAW)}function P(){M(),T(),requestAnimationFrame(P)}function M(){if(Y<=0)return;Y--;const r=c.distortionRadius*c.distortionRadius;for(let o=0;o<u.length;o++){const t=u[o],a=d[o*2],n=d[o*2+1],i=F.x-a,s=F.y-n,f=i*i+s*s;if(f<r&&f>0){const R=-r/f,m=Math.atan2(s,i),S=Math.sqrt((a-t.originalX)**2+(n-t.originalY)**2),y=Math.max(.1,1-S/(c.maxDisplacement*2));t.velocityX+=R*Math.cos(m)*c.forceStrength*y,t.velocityY+=R*Math.sin(m)*c.forceStrength*y}t.velocityX*=.82,t.velocityY*=.82;const g=a+t.velocityX+(t.originalX-a)*c.returnForce,h=n+t.velocityY+(t.originalY-n)*c.returnForce,_=g-t.originalX,v=h-t.originalY,A=Math.sqrt(_*_+v*v);if(A>c.maxDisplacement){const R=A-c.maxDisplacement,m=c.maxDisplacement/A,S=m+(1-m)*Math.exp(-R*.02);d[o*2]=t.originalX+_*S,d[o*2+1]=t.originalY+v*S,t.velocityX*=.7,t.velocityY*=.7}else d[o*2]=g,d[o*2+1]=h}e.bindBuffer(e.ARRAY_BUFFER,b),e.bufferSubData(e.ARRAY_BUFFER,0,d)}function T(){function r(i){const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return s?{r:parseInt(s[1],16)/255,g:parseInt(s[2],16)/255,b:parseInt(s[3],16)/255}:{r:0,g:0,b:0}}e.viewport(0,0,l.width,l.height);const o=r(c.canvasBg);if(e.clearColor(o.r,o.g,o.b,1),e.clear(e.COLOR_BUFFER_BIT),u.length===0)return;e.useProgram(p);const t=e.getUniformLocation(p,"u_resolution");e.uniform2f(t,l.width,l.height),e.bindBuffer(e.ARRAY_BUFFER,b);const a=e.getAttribLocation(p,"a_position");e.enableVertexAttribArray(a),e.vertexAttribPointer(a,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,w);const n=e.getAttribLocation(p,"a_color");e.enableVertexAttribArray(n),e.vertexAttribPointer(n,4,e.FLOAT,!1,0,0),e.drawArrays(e.POINTS,0,u.length)}function U(){document.addEventListener("mousemove",r=>{const o=l.getBoundingClientRect(),t=window.devicePixelRatio||1;F.x=(r.clientX-o.left)*t,F.y=(r.clientY-o.top)*t,Y=300}),window.addEventListener("resize",()=>{if(E(),u.length>0){const r=l.width/2,o=l.height/2,t=Math.sqrt(u.length);for(let a=0;a<u.length;a++){const n=Math.floor(a/t),i=a%t,s=r+(i-t/2)*1,f=o+(n-t/2)*1;u[a].originalX=s,u[a].originalY=f,d[a*2]=s,d[a*2+1]=f}e.bindBuffer(e.ARRAY_BUFFER,b),e.bufferSubData(e.ARRAY_BUFFER,0,d)}})}function N(){E(),z(),C(),D(),U()}N();
